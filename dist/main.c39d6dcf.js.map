{"version":3,"sources":["ts/lib/EventEmitter.ts","ts/views/Line.ts","ts/views/InputLine.ts","ts/Command.ts","ts/CommandCollection.ts","ts/CommandManager.ts","ts/ParsedInput.ts","ts/Logger.ts","ts/lib/InputSaver.ts","ts/views/Terminal.ts","main.ts","../../../../../Users/Sergey/AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../../../../Users/Sergey/AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","document","querySelectorAll","i","length","module"],"mappings":"AWAA,ACAA,IDAIA,ACAAY,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,SDDSZ,ACCAa,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAC,CDDChB,MCCM,GDDX,ACCce,EDDE,ECCE,CAACE,SAAL,EAAd;ADAEjB,IAAAA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADc,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,IAAAA,IAAI,CAACI,MAAL;ADCF,ACAC,GAFD,MDEOnB,SAAP;AACD;ACACgB,EAAAA,OAAO,CAACI,IAAR,GAAeL,IAAI,CAACK,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C;ADEF,ACDER,EAAAA,IAAI,CAACS,EDCEtB,QCDP,CAAgBuB,GDClB,GAAwB,MCDtB,CAA6BT,OAA7B,EAAsCD,IAAI,CAACW,WAA3C;ADEA,ACDD;ADEC,ADXF,IPAqB,AIMf,ADNe,ANES,AQFT,EGWf,CDXN,CAAA,aAAA,CAAA;ACYI,ACDJ,IAAIC,MDCM,IAAIxB,ACDA,GAAG,EDCP,EAAN,ACDJ;ADEG,ADZH,GCUE,CAEE,ADZJ,OCYWC,GAAP,ADZJ,ECYgB,CDZhB,eAAA,CAAA,OAAA,CAAA,qBAAA,CAAA,CAAA;ACaI,ACFJ,ATRE,AGJF,ANEA,AQFA,QGcQC,CCFCuB,MDEM,GAAG,ACFlB,CDEmB,ARTC,ESOC,ETRnB,CQUsBxB,AHdxB,CLMY,AGNZ,CNEA,CWY2B,CAACE,GRV1B,EQUgB,ARPN,EQOuBC,KAAjB,CAAuB,ERVvC,EAGiE,2DQOjD,CAAd;ACDF,AFXF,APKmE,AGPnE,ANEA,AQFA,IEEA,EEWMoB,UAAJ,EAAgB,KFXlB,GAAA,eAAA,CAAA,OAAA,CAAA,wBAAA,CAAA,CAAA;ACaI,ACDA,QDCItB,OAAJ,EAAa;AACX,ACDH,AFXH,APCoB,ACLpB,ACAA,ACES,ANEC,AQFA,ACFV,ICIM,ANJN,ACAA,AIAA,KNKoB,AGHX,ANEC,AQFA,CCFV,ECIc,CCYDG,ARXO,ACLpB,AJIU,ASJV,ECIiB,AFFP,CLGU,ACLpB,AEES,ANEQ,EQFY,CEER,AJFM,CHGP,AHDC,AQFX,CFAD,EKcc,ANhBvB,ALIiB,CWYOH,CXZd,CKJV,EIAA,CCIqB,ADJrB,CCIqB,CCYU,APhB/B,COgBgC,APhBhC,COgB+B,CAAR,CAAjB,CFhBN,CCIiB,ADJjB,CCI8B,CNJ9B,CAAA,CCAA,CAAA,GIAA,CAAA,CCIiB,ADJjB,CCIA,CLJA,CAAA,CDAA,CAAA,CAAA,kBCAA,CAAA,CAAA;AMiBK,ADZL,APCY,AGHH,AN2CR,AQ3CS,IEEJ,KPCM,AGHH,AEAC,MLGE,CKHF,EEEU,APCR,AGHH,CEAmB,CAAC,CEEN,AJFQ,AEArB,EFAD,CHGG,CODe,mBAAA,CAAA,OAAJ,EAAvB;ACaG,ACDDsB,AFVF,APAY,AGHH,AEAC,ACHV,EGgBEA,ERRmB,ACNA,AIFrB,KNMY,AGHH,AEAC,GIaE,EFVE,AJHL,CMaME,AFVA,AFHL,ACHV,EHG2B,CIG3B,AFH2B,ACH3B,CCMmB,APAP,AGHH,CEAC,ELGE,GSUa,CAAC,MTVd,CMNZ,CAAA,IGgBsC,GHhBtC,CAAA,aAAA,CAAA,CAAA;AGiBI,AFVF,APNgB,AG6BjB,AEiBA,EExCC,IAAI,EEUEC,AFVA,CPNU,ISgBL,CFXM,EEWHC,AThBE,GAAoB,EAApB,GSgBM,CAACC,ALTlB,KAAW,WKSF,CAA0B,wBAA1B,CAAZ;ADEF,ADXA,APFqE,AIGnE,AERJ,ECOE,EDPF,EFQI,EGDI,CCWC,CDXC,ECWR,CJVS,CAAC,GAAR,CAAY,EERhB,CFQI,EERJ,GCOW,MAAD,EAAS,IDPnB,CCOU,ADPV,ECO4B,KDP5B,CAAA,mBAAA,CAAA,CAAA;AEmBC,ACFG,AFTA,ANDJ,ACNA,AEQG,IGDC,KESK,EFTE,CAAC,CESCC,CAAC,CFTV,CAAY,CESC,CAAb,EAAgBA,CAAC,CFTjB,CVJQ,CYaYH,IPhBxB,COgB6B,CAACI,CRV9B,GJH+B,EYa3B,EAAkCD,CAAC,EAAnC,EAAuC,AZbS;AYc9C,AFTH,ANFH,ACNA,ALKI,ASJJ,GCGmB,CDHnB,MGgBUrB,AZZA,MYYM,CAACJ,AHhBjB,GAAA,KTIyB,EYYf,CAAkBsB,AZZA,KYYK,AZZA,CYYCG,CAAD,AHhBjC,CGgB4B,AHhB5B,CGgBqCb,AZZT,CAAU,GYY5B,AZZkB,CAAc,CSJ1C,CAAA,GGgB+CR,IZZnB,CAAxB,CYYiD,CAACV,MHhBtD,CAAA,CAAA,IGgB+C,EAAzC,EAAgE;ADGtE,ACFQY,AFTN,EAAA,MESMA,CDECN,GDXG,EAAE,IESI,CDElB,ACFmBsB,CDECrB,GAApB,CCFwB,CDEC,ACFAwB,AJfX,CIeU,CAAN,CAAV,ANfgB,IEAG,EEMZ,EJNuB,IIMxB,EAAS,KAAT;ACYZ,ACFK,AFVO,ANFJ,ACLA,ACEN,ANGA,AQHA,ACDJ,IAAA,KEkBS,APdC,ACLA,CMmBA,ALjBA,ANGF,CUEyB,AFLxB,CCDT,GEkBexB,ADZD,ADNd,CHCgB,CEAZ,CGiBK,APdC,ACLA,AGEM,CFAG,CKiBCC,CPdwB,ACLtB,CICtB,CHCuB,AGDvB,ELIgD,ACLtB,ALKtB,AQHA,CAAoB,CGiBf,AXdgB,CWcG,APdgB,CDDjC,CCCD,CIHN,GFAe,AGDnB,CAAA,CHCI,EHEiC,MEJX,CAAA,OAAJ,EAAZ,4CMmBD,EAA2F,IAA3F,IAAmG,GAA1G;AACD,ACFI,AFXS,APFV,AC2BH,ACpBA,ACTG,ANGE,GUJa,KVIb,EMHI,CHED,EGFI,GAAG,EHEZ,CAAa,GGFK,CAAC,ANGF,CAAC,CGDlB,CAAoB,CGFR,CNGV,CAAqB,CMHG,GHE1B,EGFY,CAAoB,ANG9B,GMHU,CAAZ;AIKF,APFC,AGFC,ANGC,AQHD,ACFJ,ECME,EDNF,EHEI,CNCA,EUGK,CFJD,CEIG,CJJD,CAAC,ANGA,EQHE,CCFb,GAAA,CHEI,CEAI,CAAY,CFAC,GAAG,CAAC,CAAD,AEAhB,CFAJ,GEA0B,ECF9B,CAAA,EDEmC,KCFnC,CDEI,ACFJ,EDE2C,iBCF3C,CAAA,CAAA;AEoBAC,ACFIgB,AFlBe,AHeD,ADZd,ANGE,AQHA,CEHN,GEkBIA,ENfA,CKiBG,AJLW,CIKVzB,AJLU,CDZX,CAAC,ENGI,CQHD,CIeG,ALHI,EDZd,CMea,ALHC,ADZH,CAAX,CEAE,CGiBN,ALjBkB,ANGE,AQHF,CIed,ANfA,EKiBmBD,AJLL,APTK,AQHjB,CRGmB,OAAF,CAAjB,SWcN;AACAU,ACFG,AFXH,AJJI,AEAC,ANXL,ADAA,GWiByB,CVjBzB,ADAA,AQSqB,CGiBhB,CNfD,CKiBG,ACXkB,CDWjBH,ACXN,AFFM,CAAC,CRfT,EIWU,CAAC,AJXX,KS4BA,ALjBI,ALXJ,GU4BqBA,ALjBF,ALXnB,ISeA,CAA0B,ERf1B,CAAA,ES4BA,CLjB8B,CAAC,GJX/B,ADAA,CCAA,ADAA,GSeA,IJJmB,ALXnB,CKW2C,AJX3C,ADAA,CCAA,CAAA,CIW8C,CAAC,MAAJ,CAAW,UAAA,ALXtD,CAAA,CAAA,EKW0D;AMgBzD,AFVD,AJN0D,ANGpD,IOAA,IGGE,CAAC,GAAT,CVHW,EMHmD,ENGxD,CAAU,GAAV,CAAc,EICd,EEJmE,CAAC,EFIhB,ACR/C,ELOL,CGDQ,CGFgD,ANG/B,CMHkD,IAAnB,CHEnC,AENW,ACIoB,ENGpD;AGAF,ACGA,ACTA,ACGsD,ANIrD,AQHD,INViB,ADAA,GKSsB,CAAxB,CAAf,CHGM,ACGF,CCTC,AGIA,EJKE,EDHI,GAAG,AKFd,EHJA,CAAe,AGIA,CAAC,CLEG,AKFnB,CHJA,CDSmB,ACTA,KFML,CAAa,EEN3B,CDSmB,CAAA,GDHL,CAAqB,GCGnC,EDHc,ACGc,CDH5B;ASeJ2B,ARXM,ACTH,ACGC,ANID,AQHA,ACKD,MGWI,ANjBF,CMiBGxB,KNjBG,CFMC,AENA,CMiBX,GAAiBiB,GHXH,ELAR,AENF,CFMiB,EENE,CMiBvB,ARXM,CAAmB,CENC,CAAC,CFMC,CAAC,GKA3B,CLAI,AENiB,CAAW,AGME,CLAD,GAA7B,MEN4B,IAAI;AHGlC,ACIC,AEPiC,AGMF,OLDhC,GDFI,GCIG,EDJE,AGH6B,CAAC,CFO5B,GDJG,ACIA,CDJC,CAAf,EAAkB,GGHgC,CAAC,IFOzB,EEPa,CAAmB,IAAnB,CAAL,SFO3B,EAAsC;ADH3C,ACG2C,AEPX,OAAf,CAAnB,KHIO,OAAL,CAAa,MAAb,CAAoB,KAApB,EAA2B,CAA3B;AACD,ACE4C,AEL7C,AGFM,SAAA,IHEC,MAAP,AGFM,GAAa,ETMV,GSNH,EDGK,EHJF,ILOmB,GKPD,MLOsB;AGAlD,ACC8C,ACP7C,ACGD,ANKC,AQJA,ANTF,ADAA,AQMQ,SAAA,CJDA,ALQA,GKRG,AGIF,GHJK,EGIA,APTd,CQMQ,EJDW,CICoB,CPNvC,CMSS,CRIc,AQJF,CCHb,ETOkB,EKRZ,AGIL,CHJoB,AGIF,CAAlB,CRIsB,AQJ7B,CHJY,CAAmB,ELQP,CAAU,EKRE,CAAC,ALQb,CAAc,MKR1B,CAAZ,ELQwB,CAAxB;AQHD,ANVD,ADAA,AQOQ,SAAA,cAAA,GAAiB,IAAI,gBAAA,CAAA,OAAJ,EAAjB;ALKuC,ACN7C,ALQA,ASNM,SAAA,CTMF,CAAC,EKRG,EIEF,CJFK,EIEa,GJFR,CIEY,ITM5B,EAAsB,EKRf,AIEqB,CAAA,EJDxB,GAAG,CAAC,AICgB,EAAlB,EJDF,CAAS,KAAK,CAAC,SAAf,EAA0B,KAAK,CAAC,KAAhC,CADG,GAEH,OAAO,CAAC,OAAR,CAAyB,KAAzB,CAFJ;ADOE,ACJH,ALOC,AEhBF,ADAA,AQSQ,SAAA,CTOA,KAAK,GAAG,CSPR,GAAa,GNIhB,AIHA,CEDoB,CHCH,GCAN,CHGQ,EDAD,AHGQ,CIHJ,AEHQ,ANMH,CIHJ,GKJH,CAAA,CNIa,CHGtB,CAAwB,ISPnB,CLIjB,CKJI,CTOQ,CAAd,2HIHwC;ADCxC,ACDwC,AGFxC,ADAA,ANMA,ASLA,MNEA,AIHA,EECM,ETKF,GGHG,AIHA,ADAA,CHGC,AIHA,AECI,CTKH,CIJE,CDCX,AIHA,AECe,CNEH,EHGE,CAAC,CAAf,CIJwC,CDCxC,AGHkB,ANMA,CSLK,CNEH,AMFI,EFDT,ADAR,CAAgB,CECX,CLEZ,CIHmB,CAAC,CDAb,CAAP,CCAe,EAAf,CECe,CAAuB,cFDP,AEChB,CAAf,EFDA;AJIA,ACDI,AGFL,ADAA,ANOC,AQNA,ANZA,ADAA,AQYA,MTMA,ESNI,EDAA,GLEG,CMFG,CDAD,CJCC,GAAG,AKDE,CNED,CAAC,AHIA,AQNX,CJCY,AJKA,AQNA,CCAhB,ELCmB,AKDE,CLCD,EDCb,AHIP,AQNI,CLE4B,ACDhB,AJKO,CILC,AKDE,GNEnB,AKFoB,CLE3B,AHIA,AQNA,ERM8B,AQNA,ACAT,CLCL,AJKhB,CILI,CKD+B,MAAd,CAArB,KACK,MAAM,IAAI,KAAJ,CAAU,qCAAV,CAAN;ANEN,AKFG,ANZF,ADAA,AQcA,SAAK,CPdA,ADAA,KOYI,ACET,CAAY,CDFV,CPZF,GCAA,ADAgB,GCAG,KDAK,CAAC,ECAE,AOc3B,CPd4B,AOcC,OAA7B,EAAsC,CRdtB,CAAuB,ECApB,CAAuB,AOcC,ERd3B,CAAhB,ECAmB,CAAnB,KOcsC,CAAiB,IAAjB,CAAsB,IAAtB,CAAtC;ALDI,AJKJ,AQLC,ANZD,AOcA,IAAA,GDJA,GROI,AEjBC,AOcC,CAAC,EDDF,GJDG,CAAC,IFZT,CEYc,AFZG,GFiBE,CAAC,CSHpB,CAAwB,GLFf,CAAe,AJKpB,CEjBJ,EEYS,CAAmB,AFZG,CFiBA,ASH/B,CTGA,CEjBA,AOcmC,CTGD,GILzB,CAAD,AKEgC,ILFA,GAApC,EAAyC,CKEV,CAAgB,IAAhB,CAAqB,IAArB,CAAnC;ALDM,AJKJ,AQJA,APdF,AQeD,URfM,GDkBE,EQJG,ERIR,CAAU,AClBZ,CGaW,AHbG,COcC,IRIb,CAAiB,EQJT,CJDJ,AHbN,CGaqB,AHbG,COcC,EJDnB,AEFmB,ALXzB,CGayB,AHbG,CDkB1B,CQJ4B,IFHU,ALXxC,CGaM,CICmB,CJDS,AICG,GJD/B,GICmB,GAAqB,CAArC,GACH,KAAK,MAAL,CAAY,EAAE,KAAK,OAAnB,CADG,GAEH,KAAK,MAAL,CAAY,KAAK,OAAjB,CAFJ;AJAG,ACrBT,ACmBI,ANOC,AQFA,ANhBD,OGRJ,CAAA,ECmBQ,AJXC,KGRT,CCmBc,EDnBd,AHQI,CIWuB,AJXT,EIWd,UJXA,CGRJ,AHQ+B,MAAK,WAAhC,EAA6C,MAAK,UAAlD;AEcG,AEFH,ANOD,AQFA,APjBC,MKYA,ILZK,CKYA,CAAC,OAAN,CAAc,ALZd,GAAkB,OKYJ,CAAC,ALZW,CAAC,CKYT,YLZA,CAAuB,KAAvB,CAAlB;AGQ6C,AGGvB,ADEpB,AJZF,OKUsB,CAAA,ELVjB,EIYG,IAAI,AJZZ,GIYe,AJZD,CIYE,CAAC,CCFK,GAAA,EDEP,AJZO,CIYE,AJZD,CIYR,CAAb,CADgB,CACU,OCFN,ELVR,CAAuB,OAAvB,CAAd;ACZJ,ACmBiD,AFN7C,ADDA,OEZJ,CAAA,EDaS,ADDA,KEZT,CDaI,CAAY,CCbhB,EFYI,CCCA,ADDgB,GCCG,CCbvB,EM2Ba,GPdT,ADDA,CAA0B,GAA1B,CAA8B,cAA9B;AGO6C,AEM3C,AGGF,WAAK,CHHC,IAAI,CAAC,IGGX,EHHM,CAAY,AGGA,CHHZ,ANOI,EMPW,CAAf,AGGN,MHH4B,AEKZ,EREa,CMP3B,EAA+B,GNOK,GMPC,CAAC,IAAP,CAAY,IAAI,CAAC,MAAL,CAAY,CAAZ,CAAZ,EAA/B,KACK,MAAM,GAAG,MAAM,CAAC,MAAP,CAAc,IAAI,CAAC,KAAL,CAAW,EAAX,CAAd,CAAT;AFPsC,AEQ5C,ANOD,AQHA,ANjBA,ADDA,AQgBD,OHNC,GNWM,AQHF,ANjBC,ADDA,KOkBI,CNjBT,CAAY,CDDZ,CAAc,GOkBV,ANjBJ,GFoBqB,EQHA,CRGG,AQHxB,EAAwB,APlBxB,CAA0B,EDqBG,IAAL,ACrBO,CDqBG,GAAV,CAAc,KCrBtC,IDqBwB,CAAxB;AIf6C,AES7C,AEIE,aFJK,AEIA,MFJP,CEIE,GAAe,CAAC,CAAhB;AJb2C,AEU9C,ANOC,AQHE,ANlBF,ADRF,UD6BM,AErBC,CFqBA,IQHI,EAAP,CNlBF,CAAc,OFqBV,IAAoB,CErBxB,CAA2B,MAAK,MAAhC,CFqBuC,CAAC,AErBA,MFqBhB,AErBqB,KFqBM,CAAnD,EAAsD,EErBtD;AEI6C,AJmB7C,AQJC,APpBF,MDwBC,CQPA,MAGO,QRIQ,CAAC,ESPP,KTOT,CAAwB,MSPI,ITOJ,OAAO,EAAG;AInBW,AJoB3C,AQJA,ANnBF,AOgBA,QTOE,EEvBG,IOgBG,CDGE,GRIE,CAAC,CQJE,ANnBf,CAAgB,GOgBE,CAAC,EDGT,CCHV,EDGyB,ANnBzB,CFuBkB,AQJS,ANnBD,CMmBjB,ENnBT,CMoBM,ANpBwB,KMoBnB,GNpBX,GMoBM,CAAY,EAAE,KAAK,OAAnB,CADG,GAEH,EAFJ;AJhB2C,AJqBzC,AQFH,ACLC,UTOE,GSPG,ITOI,CAAC,GSPV,CTOS,CAAP;AIrByC,AJsB1C,AQFJ,ANrBC,AOgBI,STKQ,CAAV,AErBG,KOgBI,KPhBT,COgBI,EPhBc,COgBA,KPhBK,KOgBnB,KPhBc,CAAgB,IAAhB,+BAAlB;AEC6C,AJuB5C,AEtBD,AOeI,IPfJ,GFkBA,GElBM,CAAC,gBAAP,CAAwB,GDJR,MCIhB,ADJ4B,ECIO,MAAK,UAAxC;AED6C,AEnBjD,AN2CG,AEpCD,ADUE,AQeA,OHhCJ,CAAA,GLiBS,IKjBT,GAAA,GLiBI,CAAgB,OKjBpB,ELiBI,GAA4B,IAA5B;AGE6C,AFE9C,ADHA,6BOuBe,OAAa;AJtBkB,AIuB7C,ACLA,WDKK,ACLA,MDKL,ACLA,CAAY,EDKE,ECLd,GDKA,YCLwB,UAAU,CAAC,GAAnC;ALXC,AKYF,OLnBQ,MAOA;AACL,AIgBF,UAAI,EJhBI,GIgBC,CJhBE,GAAG,EIgBV,CAAY,CJhBE,CHRF,IOwBZ,GAAqB,CJhBP,CAAA,GIgBlB,EAAgC,EJhBlB,CAAY,GAAG,CAAC,IAAhB,EAAsB,GAAG,CAAC,MAA1B,EAAkC,GAAG,CAAC,UAAtC,CAAZ;AIiBA,APxBF,aOwBO,APxBA,KAAK,COwBV,CAAY,MAAZ,APxBF,COwBqB,INjBJ,CMiBS,MAAL,ANjBiB,CMiBL,MAA/B,EAAuC,KAAK,GAAG,KAAK,MAAL,CAAY,MAA3D;AJhBA,AJ1BN,AQ2CK,ANhBD,ADRD,ODnBH,CI0BM,AJ1BN,EE2BS,EEDA,CAAC,CFCN,CF3BJ,GAAA,GI0BM,CAAa,GAAG,CAAC,IJ1BvB,GI0BM,IKYoB,UAA2B;AACjD,WAAK,cAAL,CAAoB,QAApB,CAA6B,QAA7B;ALZE,AIiBF,ANjBA,AOaD,OPbC,IMiBK,EJjBE,IFAF,CMiBL,GAAe,ANjBf,CEAE,AIiBc,CJjBC,AIiBjB,ANjBS,GEAP,CAAmB,IAAG,CAAC,IAAvB,EAA6B,IAA7B;AACD,AIiBF,ANlBa,QAAA,IAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAAA,EAAA,CAAA,GAAA,OAAA;AEEb,AFFyB,ED3BM,KC2B9B,EAAK,IAAI,GD3BqB,CAAA,CC2BzB,IAAI,GAAA,EA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","file":"main.c39d6dcf.js","sourceRoot":"..\\src","sourcesContent":["type eventHandler = (args: any) => void;\r\n\r\nexport default abstract class EventEmitter {\r\n\r\n  private _map = new Map<string, Array<eventHandler> >();\r\n\r\n  public on(eventName: string, handler: eventHandler) : void {\r\n\r\n    const arrayOfHandlers = this._map.get(eventName);\r\n\r\n    if (arrayOfHandlers) {\r\n      arrayOfHandlers.push(handler);\r\n    } else {\r\n      const newArray = [ handler ];\r\n      this._map.set(eventName, newArray);\r\n    }\r\n  }\r\n\r\n  public off(eventName: string, handler: eventHandler) : void {\r\n\r\n    const arrayOfHandlers = this._map.get(eventName);\r\n    if (!arrayOfHandlers) return;\r\n\r\n    const index = arrayOfHandlers.indexOf(handler);\r\n    if (index === -1) return;\r\n\r\n    arrayOfHandlers.splice(index, 1);\r\n    if (arrayOfHandlers.length === 0) {\r\n      this._map.delete(eventName);\r\n    }\r\n  }\r\n\r\n  public emit(eventName: string, args: any): void {\r\n\r\n    const arrayOfHandlers = this._map.get(eventName);\r\n\r\n    if (!arrayOfHandlers || arrayOfHandlers.length === 0) return;\r\n    \r\n    arrayOfHandlers.forEach(handler => {\r\n      setTimeout(() => {\r\n        handler(args);\r\n      });\r\n    });\r\n  }\r\n\r\n\r\n}","import EventEmitter from '../lib/EventEmitter';\r\n\r\nexport default class Line extends EventEmitter {\r\n\r\n  protected _element : HTMLDivElement;\r\n  protected _textField: HTMLDivElement;\r\n\r\n  constructor() {\r\n    super();\r\n    this._element = document.createElement('div');\r\n    this._element.classList.add('line');\r\n    this._textField = document.createElement('div');\r\n    this._textField.classList.add('line-content');\r\n    this._element.appendChild(this._textField);\r\n  }\r\n\r\n  public setContent(html: string) {\r\n    this._textField.innerHTML = html;\r\n  }\r\n  public get element() {\r\n    return this._element;\r\n  }\r\n}","import Line from './Line';\r\n\r\nexport default class InputLine extends Line {\r\n\r\n  private _invitation: HTMLDivElement;\r\n  private _input: HTMLInputElement;\r\n\r\n  constructor() {\r\n    super();\r\n    this._invitation = document.createElement('div');\r\n    this._invitation.textContent = '>';\r\n    this._element.insertBefore(this._invitation, this._textField);\r\n    this._input = document.createElement('input');\r\n    this._input.type = 'text';\r\n    this._input.focus();\r\n    this._element.insertBefore(this._input, this._textField);\r\n    this._textField.classList.add('hidden');\r\n\r\n    this.handleKeys = this.handleKeys.bind(this);\r\n\r\n    window.addEventListener('keydown', this.handleKeys);\r\n  }\r\n\r\n  public get input() : HTMLInputElement {\r\n    return this._input;\r\n  }\r\n\r\n  private handleKeys(event : KeyboardEvent) {\r\n\r\n    enum Keys { ENTER = 13 };\r\n\r\n    if (event.keyCode === Keys.ENTER && this._input === document.activeElement) {\r\n\r\n      this.commit();\r\n    }\r\n  }\r\n\r\n  public commit() {\r\n    const value = this._input.value;\r\n    this._textField.innerHTML = this.decorateText(value);\r\n    this._textField.classList.remove('hidden');\r\n    this._input.classList.add('hidden');\r\n    window.removeEventListener('keydown', this.handleKeys);\r\n    this.emit('commit', value);\r\n  }\r\n\r\n  public setContent(html: string) {\r\n    this._input.value = html;\r\n  }\r\n\r\n  public focus() : void {\r\n      this._input.focus();\r\n  }\r\n\r\n  private decorateText(sourceStr: string): string {\r\n    return sourceStr; // Пока так.\r\n  }\r\n}","export default class Command {\r\n\r\n  public readonly aliases: string[] = [];\r\n\r\n  constructor(\r\n    public readonly text: string,\r\n    private action: (params: string[], flags: string[]) => void,\r\n    private validation: (params: string[], flags: string[]) => void) {}\r\n\r\n  setAlias(aliases: string | string[]) : void {\r\n    this.aliases.concat(aliases);\r\n  }\r\n\r\n  removeAlias(alias: string) : void {\r\n    const index = this.aliases.indexOf(alias);\r\n    if (index !== -1) {\r\n      this.aliases.splice(index, 1);\r\n    }\r\n  }\r\n\r\n  exec(params: string[], flags: string[]) : Promise<boolean> {\r\n    console.log(params, flags);\r\n    return Promise.resolve<boolean>(true);\r\n  }\r\n}","import Command from \"./Command\";\r\n\r\ntype CommandDefinition = {\r\n  text: string,\r\n  aliases: string | string[];\r\n  action: (params: string[], flags: string[]) => void;\r\n  validation: (params: string[], flags: string[]) => boolean;\r\n}\r\n\r\nexport default class CommandCollection {\r\n  private _commands: Map<string, Command> = new Map();\r\n  public get commandNames() : IterableIterator<string> {\r\n    return this._commands.keys();\r\n  }\r\n\r\n  add(arg: CommandDefinition | Command | CommandCollection) : void {\r\n\r\n    if (arg instanceof Command) {\r\n      this._commands.set(arg.text, arg);\r\n    } else if (arg instanceof CommandCollection) {\r\n      for (let cmdName of arg.commandNames) {\r\n        const cmd = arg.get(cmdName);\r\n        if (!this._commands.has(cmdName) && cmd) {\r\n          this._commands.set(cmdName, cmd);\r\n        }\r\n      }\r\n    } else {\r\n      const cmd = new Command(arg.text, arg.action, arg.validation);\r\n      cmd.setAlias(arg.aliases);\r\n      this._commands.set(cmd.text, cmd);\r\n    }\r\n  }\r\n\r\n  get(cmdName: string): Command | undefined {\r\n    return this._commands.get(cmdName);\r\n  }\r\n\r\n}","import CommandCollection from \"./CommandCollection\";\r\nimport ParsedInput from \"./ParsedInput\";\r\n\r\nexport default class CommandManager {\r\n\r\n  private _commands = new CommandCollection();\r\n\r\n  register(commands: CommandCollection) {\r\n    this._commands.add(commands);\r\n  }\r\n\r\n  tryExecute(input: ParsedInput) : Promise<boolean> {\r\n    const cmd = this._commands.get(input.command);\r\n    return (cmd !== undefined)\r\n      ? cmd.exec(input.arguments, input.flags)\r\n      : Promise.resolve<boolean>(false);\r\n  }\r\n}","export default class ParsedInput {\r\n\r\n  public command: string = '';\r\n  public arguments: string[] = [];\r\n  public flags: string[] = [];\r\n\r\n  public static getFrom(source: string) : ParsedInput {\r\n    const result = new ParsedInput();\r\n    const arr = source.trim().split(' ');\r\n    result.command = arr[0];\r\n    arr.splice(0, 1);\r\n    result.flags = ParsedInput.refineFlags(arr.filter(item => ParsedInput.isFlag(item)));\r\n    result.arguments = arr.filter(item => !ParsedInput.isFlag(item));\r\n\r\n    return result;\r\n  }\r\n\r\n  private static isFlag(value: string) : boolean {\r\n    return /^\\-{1,2}/.test(value);\r\n  }\r\n  \r\n  private static refineFlags(flags: string[]) : string[] {\r\n    let result: string[] = [];\r\n    flags.forEach(f => {\r\n      const temp = f.substr(1); // Удаляем первый слэш\r\n      if (temp.substr(0, 1) === '-') result.push(temp.substr(1));\r\n      else result = result.concat(temp.split(''));\r\n    })\r\n    return result;\r\n  }\r\n\r\n}","interface ILogger {\r\n  tag: 'logger';\r\n  info: (msg: string) => void;\r\n\r\n}\r\n\r\nclass Logger implements ILogger {\r\n  public tag!: 'logger';\r\n\r\n  info(msg: string) {\r\n    console.log(msg);\r\n  }\r\n}\r\n\r\nclass AdvancedLogger implements ILogger {\r\n  public tag!: 'logger';\r\n\r\n  info(msg: string) {\r\n    console.log(`${Date.now()} > ${msg}`);\r\n  }\r\n}\r\n\r\nexport { ILogger, Logger, AdvancedLogger };","export default class InputSaver {\r\n\r\n  private _store: string[] = [];\r\n  private _cursor: number = -1;\r\n  private _limit: number = 10;\r\n\r\n  public push(input: string) : void {\r\n    this._store.unshift(input);\r\n    \r\n    if (this._store.length >= this._limit) {\r\n      this._store.pop();\r\n    }\r\n    this._cursor = -1;\r\n  }\r\n\r\n  public getAll() {\r\n    return this._store.slice(0);\r\n  }\r\n\r\n  public getNext() {\r\n    if (this._store.length === 0) {\r\n      return '';\r\n    }\r\n    else {\r\n      return (this._cursor < this._store.length - 1)\r\n        ? this._store[++this._cursor]\r\n        : this._store[this._cursor];\r\n    }\r\n  }\r\n\r\n  public getPrevious() {\r\n    if (this._cursor === 0) {\r\n      this._cursor = -1;\r\n      return '';\r\n    } else {\r\n      return (this._cursor > - 1)\r\n        ? this._store[--this._cursor]\r\n        : '';\r\n    }\r\n  }\r\n\r\n  public setLimit(limit: number) {\r\n    this._limit = limit;\r\n    if (this._store.length > limit) {\r\n      this._store.splice(this._store.length, limit - this._store.length);\r\n    }\r\n    this._cursor = -1;\r\n  }\r\n}","import Line from './Line';\r\nimport InputLine from './InputLine';\r\nimport CommandManager from '../CommandManager';\r\nimport CommandCollection from '../CommandCollection';\r\nimport ParsedInput from '../ParsedInput';\r\n\r\nimport { ILogger, Logger } from '../Logger';\r\nimport InputSaver from '../lib/InputSaver';\r\n\r\nexport default class Terminal {\r\n\r\n  private screen: Element;\r\n  private _stopToken = false;\r\n  private activeLine: InputLine | null = null;\r\n  private commandManager = new CommandManager();\r\n  private logger: ILogger = new Logger();\r\n  private InputSaver = new InputSaver();\r\n\r\n  constructor(screenSelector: string) {\r\n    const screen = document.querySelector(screenSelector);\r\n    if (screen !== null) this.screen = screen;\r\n    else throw new Error('invalid selector for console screen');\r\n\r\n    this.screen.addEventListener('click', this.handleClick.bind(this));\r\n    window.addEventListener('keydown', this.handleKeys.bind(this));\r\n  }\r\n\r\n  public stop() : void {\r\n    this._stopToken = true;\r\n  }\r\n\r\n  public use(dependency: ILogger) {\r\n    switch (dependency.tag) {\r\n      case 'logger':\r\n        this.logger = dependency;\r\n        break;\r\n    }\r\n    this.logger.info(`new ${dependency.tag} is set`);\r\n  }\r\n\r\n  public registerCommands(commands: CommandCollection) : void {\r\n    this.commandManager.register(commands);\r\n  }\r\n\r\n  private handleKeys(event : KeyboardEvent) : void {\r\n\r\n    enum Keys { UP = 38, DOWN = 40 };\r\n\r\n    if (this.activeLine !== null) {\r\n      // Input specific actions\r\n      if (event.keyCode === Keys.UP || event.keyCode === Keys.DOWN) {\r\n        const toDisplay = (event.keyCode === Keys.UP)\r\n          ? this.InputSaver.getNext()\r\n          : this.InputSaver.getPrevious();\r\n        this.activeLine.setContent(toDisplay);\r\n      }\r\n    } else {\r\n\r\n    }\r\n  }\r\n\r\n  private handleClick(event : Event) : void {\r\n    if (event instanceof MouseEvent) {\r\n      if (this.activeLine) this.activeLine.focus();\r\n    }\r\n  }\r\n\r\n  public read() {\r\n\r\n    return new Promise<string>((resolve) => {\r\n      const line = new InputLine();\r\n      this.screen.appendChild(line.element);\r\n      this.activeLine = line;\r\n      this.activeLine.focus();\r\n\r\n      line.on('commit', resolve);\r\n    })\r\n    .then(input => {\r\n      this.logger.info(input);\r\n      this.InputSaver.push(input);\r\n      return Promise.resolve(input);\r\n    });\r\n  }\r\n\r\n  private startLoop() {\r\n    this\r\n      .read()\r\n      .then(input => {\r\n        const parsedInput = ParsedInput.getFrom(input);\r\n        return this.commandManager.tryExecute(parsedInput);\r\n      })\r\n      .then(success => {\r\n        console.log('success: ' + success);\r\n        if (!this._stopToken) {\r\n          this.startLoop();\r\n        } else {\r\n          this._stopToken = false;\r\n        }\r\n      });\r\n  }\r\n\r\n  public run() : void {\r\n    // Запускает в режиме командной строки\r\n    this.write(`<b><i>Welcome!</i><b>`);\r\n    this.startLoop()\r\n\r\n  }\r\n\r\n  public write(html: string) : void {\r\n\r\n    const line = new Line();\r\n    line.setContent(html);\r\n    this.screen.appendChild(line.element);\r\n  }\r\n}","import './main.scss';\r\nimport Terminal from './ts/views/Terminal';\r\nimport CommandCollection from './ts/CommandCollection';\r\n\r\nconst terminal = new Terminal('.screen');\r\nconst testCommandSet = new CommandCollection();\r\n\r\ntestCommandSet.add({\r\n  text: 'test',\r\n  action: (params, flags) => {\r\n    console.log('test');\r\n  },\r\n  validation: (params, flags) => true,\r\n  aliases: 't'\r\n});\r\nterminal.registerCommands(testCommandSet);\r\n\r\nterminal.run();","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}